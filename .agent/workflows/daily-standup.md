---
name: "Daily Standup Workflow"
description: "BMAD-style AI-assisted daily standup: collect updates, run checks, document, summarize"
version: "1.0"
roles:
  - analyst
  - dev
  - documentor
  - scrum_master
  - security
---

# Daily Standup Workflow (BMAD-Style)

## Overview

This workflow automates the daily standup preparation by:
1. **Analyzing** recent work (commits, tickets).
2. **Running** checks (tests, lint).
3. **Documenting** status in a shared doc.
4. **Summarizing** for the standup meeting.

**Human-in-the-middle**: You always review and approve before sharing.

---

## Prerequisites

- Repo contains git history with recent commits.
- A test or lint command works (e.g., `npm test`).
- Write access to `docs/standups/` folder.
- Team configuration in `.agent/config.yaml`.

---

## Workflow Steps

### Step 1: Collect Work Updates (Analyst Role)

**Objective**: Extract what was done in the last 24 hours.

**Actions**:

1. Inspect the last 24 hours of git commits:
   ```bash
   git log --since="24 hours ago" --oneline --format="%h | %an | %s"
   ```

2. For each commit, extract:
   - Commit hash
   - Author name
   - Commit message (infer ticket ID if present, e.g., "JIRA-123")
   - Files touched

3. Create an **Artifact** named `step1_raw_updates.md` in `.agent/artifacts/`:
   - Format as Markdown table with columns:
     - Commit | Author | Ticket | Message | Status
   - Example:
     ```
     | abc1234 | Lakshitha | JIRA-101 | Add login feature | Done |
     | def5678 | Samantha | JIRA-102 | Fix password reset | In Progress |
     ```

4. Present to user with prompt:
   > "I've collected the last 24 hours of commits. Review and let me know if I should add or remove any items."

5. Wait for user feedback and update the artifact if needed.

---

### Step 2: Run Predetermined Tool Checks (Dev/Tools Role)

**Objective**: Check if tests and linting pass.

**Actions**:

1. Run test command:
   ```bash
   npm test 2>&1
   ```
   (Or `pytest`, `python -m unittest`, depending on your stack.)

2. Capture output:
   - Did it exit with code 0 (success) or non-zero (failure)?
   - Extract failing test names (if any).
   - Extract any error messages.

3. Run lint command (if applicable):
   ```bash
   npm run lint 2>&1
   ```

4. Create an **Artifact** named `step2_checks_results.md` in `.agent/artifacts/`:
   - Format as Markdown with sections:
   ```markdown
   ## Test Results

   **Status**: âœ… PASS (or âŒ FAIL)

   - Command: `npm test`
   - Output summary: "All 5 tests passed"

   ## Lint Results

   **Status**: âœ… PASS

   - Command: `npm run lint`
   - Output summary: "No issues found"

   ## Issues Found

   - None
   ```

5. If there are failures, list them:
   ```markdown
   ## Issues Found

   - **Test**: `test/auth.test.js - login should handle errors` - FAILED
   - **Error**: "expected 401, got 500"
   ```

6. Present to user:
   > "Tool checks complete. See results in the artifact above."

---

### Step 3: Update Daily Status Document (Documentation Role)

**Objective**: Create a persistent daily record.

**Actions**:

1. Create or update the daily standup document:
   - Path: `docs/standups/YYYY-MM-DD.md`
   - Example: `docs/standups/2026-01-09.md`

2. File content structure:
   ```markdown
   # Daily Standup Report â€“ YYYY-MM-DD

   **Date**: YYYY-MM-DD  
   **Team**: Development  
   **Sprint**: Sprint XX (or current)  

   ---

   ## Work Completed (Yesterday)

   - [x] JIRA-101: Add login feature (Author)
   - [x] JIRA-105: Update documentation (Author)

   ## Work In Progress (Today)

   - [ ] JIRA-102: Fix password reset (Author, started today)
   - [ ] JIRA-103: Implement API caching (Author)

   ## Blockers / Issues

   - None currently

   ## CI/CD Status

   - **Tests**: âœ… PASS (X/X)
   - **Lint**: âœ… PASS
   - **Builds**: âœ… PASS

   ---

   ## Generated by Antigravity Workflow

   Generated: YYYY-MM-DD HH:MM AM/PM  
   Workflow: Daily Standup (BMAD-Style)
   ```

3. Optionally commit this to the repo:
   ```bash
   git add docs/standups/$(Get-Date -Format "yyyy-MM-dd").md
   git commit -m "docs: daily standup report for $(Get-Date -Format "yyyy-MM-dd")"
   ```

4. Create an **Artifact** named `step3_standup_document.md`:
   - Show the saved file path and content summary.

---

### Step 4: Security / Quality Check (Security Role)

**Objective**: Ensure no sensitive data is leaked in the summary.

**Actions**:

1. Review the `step1_raw_updates` and `step2_checks_results` artifacts.

2. Check for (as defined in `.agent/config.yaml`):
   - API keys, passwords, or credentials in commit messages.
   - Stack traces or error details that shouldn't be public.
   - Usernames that should be anonymized.
   - Patterns matching: password, secret, api_key, token, credential

3. Create an **Artifact** named `step4_security_check.md`:
   ```markdown
   ## Security & Quality Check

   **Status**: âœ… PASS

   - No credentials found in commit messages.
   - No stack traces exposed.
   - All public URLs and identifiers are safe.

   **Recommendation**: Ready to proceed to summary.
   ```

4. If issues found, list them:
   ```markdown
   **Status**: âš ï¸ WARNING

   - Found potential API key in commit "abc1234 | Add config file"
   - Recommendation: Remove or redact before sharing.
   ```

---

### Step 5: Generate Standup Summary (Scrum Master Role)

**Objective**: Create a brief, human-readable summary for the actual standup meeting.

**Actions**:

1. Synthesize all previous steps into a concise summary.

2. Load team members from `.agent/config.yaml` for per-person summary.

3. Create an **Artifact** named `step5_standup_summary.md`:
   ```markdown
   # Daily Standup Summary â€“ YYYY-MM-DD

   ## Team Status (15-second overview)

   âœ… **Progress**: Strong progress on Sprint XX. X stories completed yesterday, X actively in progress. All tests passing.

   ---

   ## Per-Person Summary

   ### [Team Member Name]
   - **Yesterday**: Completed JIRA-XXX (description)
   - **Today**: Starting work on JIRA-XXX
   - **Blockers**: None / [Description]

   ---

   ## Focus Areas for Today

   1. **Priority 1** â€“ Description
   2. **Priority 2** â€“ Description
   3. **Priority 3** â€“ Description

   ---

   ## Metrics

   - **Completed**: X stories
   - **In Progress**: X stories
   - **Tests**: âœ… Passing
   - **Blockers**: X (description if any)

   ---

   **Duration to read**: ~2 minutes  
   **Duration to discuss**: ~10 minutes  

   Generated: YYYY-MM-DD HH:MM AM/PM
   ```

4. Present to user:
   > "Here's your standup summary, ready to be read in the meeting. Do you want to edit anything before sharing it with the team?"

---

### Step 6: Final Review & Approval (Human Checkpoint)

**Objective**: Ensure everything is correct before using in the meeting.

**Actions**:

1. User reviews all artifacts:
   - `step1_raw_updates.md`
   - `step2_checks_results.md`
   - `step3_standup_document.md`
   - `step4_security_check.md`
   - `step5_standup_summary.md`

2. User provides feedback:
   - "Looks good, ready for standup."
   - Or: "Fix this item" or "Add this detail."

3. If changes needed:
   - Update the relevant artifact(s).
   - Re-run security check if content changed.

4. Once approved:
   - Save `step5_standup_summary` to clipboard or PDF.
   - Share link to `docs/standups/YYYY-MM-DD.md` with the team.
   - Use summary to guide the 15-minute standup meeting.

---

## Constraints & Rules

- âŒ **Do not invent**: Only use real commits, tickets, and test results.
- ðŸ”’ **Do not expose secrets**: No API keys, passwords, or sensitive URLs.
- â±ï¸ **Keep it short**: Summary should be readable in 2 minutes max.
- ðŸ‘¤ **Human approves**: Never share the summary without explicit user approval.
- ðŸ“… **Daily cadence**: Run this workflow each morning (e.g., 8:30 AM before standup at 9:00 AM).

---

## Success Criteria

- âœ… Workflow runs end-to-end without errors.
- âœ… All artifacts are generated and presented to user.
- âœ… User can review and approve each step.
- âœ… Daily standup document is created and saved.
- âœ… Standup summary is concise and actionable.
- âœ… Team uses the summary to conduct the standup efficiently.

---

## Future Enhancements

### Jira Integration
```bash
curl -H "Authorization: Bearer $JIRA_TOKEN" \
  "https://your-jira.atlassian.net/rest/api/3/search?jql=updated>=1d" \
  | jq '.issues[] | {key, summary, status}'
```

### Confluence Upload
```bash
curl -X POST \
  -H "Authorization: Bearer $CONFLUENCE_TOKEN" \
  "https://your-confluence.atlassian.net/rest/api/3/pages" \
  -d @docs/standups/$(date +%Y-%m-%d).md
```

### Slack Notification
```bash
curl -X POST $SLACK_WEBHOOK \
  -d '{"text": "Daily Standup Summaryâ€¦"}' \
  -H 'Content-Type: application/json'
```
